5.3. ĐÁNH GIÁ YÊU CẦU PHI CHỨC NĂNG
5.3.1. Đánh giá hiệu năng API
Đo thời gian phản hồi các API endpoint chính với công cụ monitoring. Kết quả cho thấy hầu hết API phản hồi dưới 200ms trong điều kiện bình thường.
API lấy danh sách đề tài với 1000 bản ghi phản hồi trung bình 180ms. API lấy chi tiết đề tài phản hồi trung bình 50ms. API đăng nhập phản hồi trung bình 120ms do cần hash bcrypt.
Mục tiêu đặt ra là 95% request dưới 500ms. Kết quả đo được 98% request đạt mục tiêu này. 2% request chậm hơn chủ yếu do network latency hoặc database query phức tạp.
Kết luận: Hiệu năng API đạt và vượt mục tiêu đề ra.
5.3.2. Đánh giá hiệu năng tạo tài liệu
Đo thời gian tạo tài liệu với các loại biểu mẫu khác nhau. FORM_1B đơn giản mất trung bình 3 giây cho Word và 8 giây cho PDF. FORM_PL1 phức tạp mất trung bình 5 giây cho Word và 12 giây cho PDF.
Mục tiêu đặt ra là tạo Word dưới 5 giây và PDF dưới 15 giây. Tất cả các biểu mẫu đều đạt mục tiêu này.
Thử tạo đồng thời 5 tài liệu, thời gian trung bình tăng lên 20% do Form Engine xử lý tuần tự. Đây là hành vi chấp nhận được vì nhu cầu tạo đồng thời nhiều tài liệu không cao.
Kết luận: Hiệu năng tạo tài liệu đạt mục tiêu đề ra.
5.3.3. Đánh giá khả năng mở rộng
Kiến trúc Hybrid cho phép mở rộng Form Engine độc lập với backend chính. Thử chạy 2 instance Form Engine với load balancer, throughput tăng gần gấp đôi.
Backend NestJS có thể chạy nhiều instance phía sau Nginx load balancer. Thử với 3 instance, hệ thống xử lý được gấp 3 lần số request.
Database PostgreSQL hỗ trợ connection pooling với Prisma. Cấu hình pool size 10 connection xử lý tốt với lưu lượng hiện tại.
Kết luận: Kiến trúc hỗ trợ mở rộng theo chiều ngang khi cần thiết.
5.3.4. Đánh giá bảo mật xác thực
JWT token được ký bằng secret mạnh và có thời hạn ngắn. Thử giả mạo token bằng cách sửa payload, request bị từ chối do chữ ký không hợp lệ.
Refresh token xoay vòng hoạt động đúng. Thử dùng lại refresh token cũ sau khi đã refresh, request bị từ chối.
Mật khẩu được hash bcrypt không thể giải ngược. Kiểm tra database chỉ thấy hash, không thấy mật khẩu gốc.
Kết luận: Cơ chế xác thực đạt yêu cầu bảo mật.
5.3.5. Đánh giá bảo mật API
Rate limiting chặn đúng 5 request đăng nhập mỗi phút từ cùng IP. Sau đó trả về lỗi 429 Too Many Requests.
Kiểm tra SQL injection bằng cách nhập payload độc hại vào form tìm kiếm. Prisma parameterized query ngăn chặn thành công, không có lỗi SQL.
Kiểm tra XSS bằng cách nhập script vào trường tiêu đề đề tài. React tự động escape khi hiển thị, script không được thực thi.
Tất cả API yêu cầu JWT token. Gọi API không có token trả về 401 Unauthorized.
Kết luận: Các biện pháp bảo mật API hoạt động đúng.
5.3.6. Đánh giá bảo mật dữ liệu
HTTPS được cấu hình cho Nginx với chứng chỉ SSL. Kiểm tra bằng trình duyệt xác nhận kết nối được mã hóa.
Cookie refresh token có flag HttpOnly, Secure, và SameSite Strict. JavaScript không thể đọc cookie này qua document.cookie.
File upload được giới hạn định dạng và kích thước. Thử upload file .exe bị từ chối. Thử upload file vượt 10MB bị từ chối.
Kết luận: Dữ liệu được bảo vệ cả khi truyền tải lẫn lưu trữ.
5.3.7. Đánh giá khả năng bảo trì
TypeScript phát hiện lỗi kiểu dữ liệu khi compile. Thử đổi kiểu trả về API, compiler báo lỗi ở tất cả nơi sử dụng.
Prisma migration theo dõi thay đổi database. Thử thêm cột mới, migration được tạo và có thể áp dụng hoặc hoàn tác.
ESLint và Prettier đảm bảo code nhất quán. Pull request với code không đúng format bị CI từ chối.
Test coverage đạt trên 70% cho các module nghiệp vụ quan trọng. Test chạy tự động trong CI pipeline.
Kết luận: Hệ thống được thiết kế để dễ bảo trì và mở rộng.
5.3.8. Tổng hợp đánh giá phi chức năng
Tất cả yêu cầu phi chức năng đã đề ra đều được đáp ứng. Bảng tổng hợp gồm:
- Thời gian phản hồi API dưới 500ms: Đạt 98%
- Thời gian tạo Word dưới 5 giây: Đạt 100%
- Thời gian tạo PDF dưới 15 giây: Đạt 100%
- Khả năng mở rộng theo chiều ngang: Đạt
- Bảo mật xác thực JWT: Đạt
- Phòng chống SQL injection: Đạt
- Phòng chống XSS: Đạt
- Mã hóa HTTPS: Đạt
- Test coverage trên 70%: Đạt
